{
    "Version": "2012-10-17",
    "Statement": [
      {
        "Effect": "Allow",
        "Action": [
          "s3:GetObject",
          "s3:PutObject",
          "s3:DeleteObject",
          "s3:ListBucket"
        ],
        "Resource": [
          "arn:aws:s3:::${state_bucket_name}",
          "arn:aws:s3:::${state_bucket_name}/tfstate/*"
        ]
      },
      {
        "Effect": "Allow",
        "Action": "ec2:*",
        "Resource": "*"
      },
      {
        "Effect": "Deny",
        "Action": [
          "ec2:ModifyInstanceAttribute",
          "ec2:StopInstances",
          "ec2:RebootInstances",
          "ec2:DeleteVpc",
          "ec2:DeleteSubnet",
          "ec2:ModifySnapshotAttribute"
        ],
        "Resource": "*"
      },
      {
        "Effect": "Allow",
        "Action": "sns:*",
        "Resource": "*"
      },
      {
        "Effect": "Deny",
        "Action": [
          "sns:Publish",
          "sns:SetTopicAttributes"
        ],
        "Resource": "*"
      },
      {
        "Effect": "Allow",
        "Action": "rds:*",
        "Resource": "*"
      },
      {
        "Effect": "Deny",
        "Action": [
          "rds:DeleteDBInstance",
          "rds:ModifyDBInstance",
          "rds:DeleteDBCluster",
          "rds:FailoverDBCluster"
        ],
        "Resource": "*"
      },
      {
        "Effect": "Allow",
        "Action": "cloudwatch:*",
        "Resource": "*"
      },
      {
        "Effect": "Deny",
        "Action": [
          "cloudwatch:DeleteAlarms",
          "cloudwatch:PutMetricAlarm"
        ],
        "Resource": "*"
      },
      {
        "Effect": "Allow",
        "Action": "elasticache:*",
        "Resource": "*"
      },
      {
        "Effect": "Deny",
        "Action": [
          "elasticache:DeleteCacheCluster",
          "elasticache:ModifyCacheCluster",
          "elasticache:RebootCacheCluster"
        ],
        "Resource": "*"
      },
      {
        "Effect": "Allow",
        "Action": "iam:*",
        "Resource": "*"
      },
      {
        "Effect": "Deny",
        "Action": [
          "iam:CreateUser",
          "iam:CreateRole",
          "iam:AttachRolePolicy",
          "iam:PutRolePolicy",
          "iam:UpdateAssumeRolePolicy",
          "iam:DeleteRole",
          "iam:DeleteUser"
        ],
        "Resource": "*"
      }
    ]
  }
  